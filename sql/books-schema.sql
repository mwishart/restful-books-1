DROP SCHEMA IF EXISTS books;

CREATE SCHEMA books;

USE books;

-- Generated by Sequelize!
CREATE TABLE `addresses` (
    `address_id` INTEGER NOT NULL auto_increment,
    `street` VARCHAR(255) NOT NULL,
    `city` VARCHAR(255) NOT NULL,
    `province` VARCHAR(255),
    `postcode` VARCHAR(10),
    `country` VARCHAR(255),
    PRIMARY KEY (`address_id`)
);

CREATE TABLE `authors` (
    `author_id` INTEGER NOT NULL auto_increment,
    `first_name` VARCHAR(255),
    `last_name` VARCHAR(255),
    `common_name` VARCHAR(255) NOT NULL,
    PRIMARY KEY (`author_id`)
);

CREATE TABLE `books` (
    `book_id` INTEGER NOT NULL auto_increment,
    `author_id` INTEGER,
    PRIMARY KEY (`book_id`),
    `title` VARCHAR(255) NOT NULL,
    `year` INTEGER,
    FOREIGN KEY (`author_id`) REFERENCES `authors` (`author_id`)
);

CREATE TABLE `libraries` (
    `library_id` INTEGER NOT NULL auto_increment,
    `address_id` INTEGER NOT NULL,
    `name` VARCHAR(255) NOT NULL,
    PRIMARY KEY (`library_id`),
    FOREIGN KEY (`address_id`) REFERENCES `addresses` (`address_id`)
);

CREATE TABLE `libraries_inventories` (
    `inventory_id` INTEGER NOT NULL auto_increment,
    `library_id` INTEGER,
    `book_id` INTEGER,
    `copies` INTEGER,
    PRIMARY KEY (`inventory_id`),
    FOREIGN KEY (`library_id`) REFERENCES `libraries` (`library_id`) ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY (`book_id`) REFERENCES `books` (`book_id`) ON DELETE CASCADE ON UPDATE CASCADE
);
INSERT INTO addresses VALUES (1, '93 Booth Dr', 'Nutley', 'NJ', '07110', 'USA' ), 
                             (2, '700 Boylston St', 'Boston', 'MA', '02116', 'USA'),
                             (3, '476 5th Ave', 'New York', 'NY', '10018', 'USA'),
                             (4, '137 Main St', 'Toronto', 'ON', 'M4E 2V9', 'Canada'),
                             (5, '301 Burnhamthorpe Rd W', 'Mississauga', 'ON', 'L5B 3Y3', 'Canada'),
                             (6, '14 St James''s Square', 'St. James', 'London', 'SW1Y 4LG', 'United Kingdom');

INSERT INTO libraries VALUES (1, 1, 'Nutley Public Library'),
                             (2, 2, 'Boston Public Library, Main Branch'),
                             (3, 3, 'New York Public Library, Main Branch'),
                             (4, 4, 'Toronto Public Library - Main Street Branch'),
                             (5, 5, 'Hazel McCallion Central Library'),
                             (6, 6, 'The London Library');

INSERT INTO authors VALUES (1, 'Gabriel', 'Garcia Márquez', 'Gabriel Garcia Márquez'),
                           (2, 'Herman', 'Melville', 'Herman Melville'),
                           (3, 'John', 'Steinbeck', 'John Steinbeck'),
                           (4, 'Francis', 'Fitzgerald', 'F. Scott Fitzgerald'),
                           (5, 'Robert', 'Parker', 'Robert B. Parker'),
                           (6, 'Isabel', 'Allende', 'Isabel Allende'),
                           (7, 'Nora', 'Ephron', 'Nora Ephron'),
                           (8, 'Joanne', 'Rowling', 'J. K. Rowling'),
                           (9, 'John', 'Tolkien', 'J. R. R. Tolkien'),
                           (10, 'Arch', 'Whitehead', 'Colson Whitehead');

INSERT INTO books VALUES (1, 1, 'One Hundred Years of Solitude', 1967),
                         (2, 1, 'Love in the Time of Cholera', 1985),
                         (3, 1, 'The General in His Labyrinth', 1989),
                         (4, 2, 'Moby-Dick; or, the Whale', 1851),
                         (5, 3, 'The Grapes of Wrath', 1939),
                         (6, 3, 'Travels with Charley: In Search of America', 1962),
                         (7, 4, 'The Great Gatsby', 1925),
                         (8, 5, 'The Godwulf Manuscript', 1973),
                         (9, 5, 'Mortal Stakes', 1975),
                         (10, 5, 'A Savage Place', 1981),
                         (11, 5, 'The Widening Gyre', 1983),
                         (12, 6, 'The House of the Spirits', 1982),
                         (13, 6, 'Zorro', 2005),
                         (14, 7, 'Heartburn', 1983),
                         (15, 7, 'I Remember Nothing: And Other Reflections', 2010),
                         (16, 8, 'Harry Potter and the Philosopher''s Stone', 1997),
                         (17, 8, 'Harry Potter and the Chamber of Secrets', 1998),
                         (18, 8, 'Harry Potter and the Prisoner of Azkaban', 1999),
                         (19, 9, 'The Hobbit', 1937),
                         (20, 9, 'The Fellowship of the Ring', 1954),
                         (21, 9, 'The Two Towers', 1954),
                         (22, 9, 'The Return of the King', 1955),
                         (23, 10, 'Zone One', 2011),
                         (24, 10, 'The Underground Railroad', 2016),
                         (25, 10, 'The Nickel Boys', 2019);

INSERT INTO libraries_inventories VALUES (1, 1, 1, 2), (2, 1, 2, 3), (3, 1, 3, 2),
    (4, 1, 4, 5), (5, 1, 5, 3), (6, 1, 6, 5),
    (7, 1, 7, 3), (9, 1, 9, 2), (10, 1, 10, 5),
    (12, 1, 12, 1), (13, 1, 13, 4), (14, 1, 14, 4),
    (15, 1, 15, 1), (17, 1, 17, 5), (19, 1, 19, 2),
    (20, 1, 20, 5), (21, 1, 21, 4), (22, 1, 22, 3),
    (23, 1, 23, 1), (24, 1, 24, 5), (26, 2, 1, 5),
    (27, 2, 2, 2), (28, 2, 3, 5), (29, 2, 4, 2),
    (30, 2, 5, 1), (31, 2, 6, 1), (32, 2, 7, 3),
    (33, 2, 8, 3), (34, 2, 9, 3), (35, 2, 10, 1),
    (37, 2, 12, 5), (38, 2, 13, 5), (39, 2, 14, 4),
    (40, 2, 15, 3), (41, 2, 16, 4), (42, 2, 17, 4),
    (43, 2, 18, 1), (44, 2, 19, 5), (45, 2, 20, 4),
    (46, 2, 21, 3), (47, 2, 22, 3), (48, 2, 23, 2),
    (49, 2, 24, 2), (50, 2, 25, 3), (51, 3, 1, 2),
    (52, 3, 2, 3), (54, 3, 4, 3), (56, 3, 6, 5),
    (57, 3, 7, 2), (58, 3, 8, 5), (60, 3, 10, 1),
    (61, 3, 11, 2), (62, 3, 12, 2), (63, 3, 13, 4),
    (64, 3, 14, 4), (65, 3, 15, 5), (66, 3, 16, 5),
    (67, 3, 17, 5), (68, 3, 18, 1), (69, 3, 19, 1),
    (70, 3, 20, 5), (71, 3, 21, 2), (72, 3, 22, 1),
    (73, 3, 23, 5), (74, 3, 24, 3), (75, 3, 25, 3),
    (77, 4, 2, 4), (78, 4, 3, 5), (79, 4, 4, 3),
    (80, 4, 5, 3), (81, 4, 6, 4), (82, 4, 7, 4),
    (83, 4, 8, 3), (84, 4, 9, 1), (85, 4, 10, 2),
    (86, 4, 11, 5), (87, 4, 12, 3), (88, 4, 13, 4),
    (89, 4, 14, 4), (90, 4, 15, 1), (91, 4, 16, 3),
    (92, 4, 17, 4), (93, 4, 18, 1), (94, 4, 19, 5),
    (96, 4, 21, 3), (97, 4, 22, 1), (98, 4, 23, 5),
    (99, 4, 24, 4), (100, 4, 25, 3), (102, 5, 2, 5),
    (104, 5, 4, 2), (105, 5, 5, 1), (107, 5, 7, 2),
    (108, 5, 8, 3), (109, 5, 9, 3), (110, 5, 10, 5),
    (111, 5, 11, 5), (113, 5, 13, 1), (115, 5, 15, 3),
    (116, 5, 16, 5), (117, 5, 17, 2), (118, 5, 18, 1),
    (119, 5, 19, 2), (121, 5, 21, 4), (122, 5, 22, 1),
    (123, 5, 23, 1), (124, 5, 24, 3), (125, 5, 25, 3),
    (126, 6, 1, 3), (127, 6, 2, 5), (128, 6, 3, 2),
    (129, 6, 4, 1), (131, 6, 6, 4), (132, 6, 7, 3),
    (133, 6, 8, 3), (135, 6, 10, 3), (136, 6, 11, 2),
    (137, 6, 12, 2), (138, 6, 13, 3), (139, 6, 14, 3),
    (140, 6, 15, 4), (141, 6, 16, 5), (142, 6, 17, 5),
    (143, 6, 18, 2), (144, 6, 19, 1), (145, 6, 20, 2),
    (146, 6, 21, 5), (147, 6, 22, 1), (150, 6, 25, 4);